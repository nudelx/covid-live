{"version":3,"sources":["card.js","header.js","covidBoard.js","useTimer.js","App.js","index.js"],"names":["active","cases","country","critical","deaths","todayCases","recovered","todayDeaths","index","useState","flag","setFlag","useEffect","fetch","then","res","json","data","className","width","height","alt","src","onChangeSearch","search","options","onChangeSort","sort","href","for","placeholder","id","name","onChange","e","preventDefault","target","value","map","o","key","s","charAt","toUpperCase","slice","cards","setCards","setSearch","setSort","timer","delay","time","setTime","setTimeout","clearTimeout","useTimer","a","b","cardFiltered","length","filter","item","match","RegExp","c","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.acee22ae.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\n\nexport default ({\n  active,\n  cases,\n  country,\n  critical,\n  deaths,\n  recovered,\n  todayCases,\n  todayDeaths,\n  index\n}) => {\n  const [flag, setFlag] = useState('#')\n\n  useEffect(() => {\n    fetch(\n      `https://restcountries.eu/rest/v2/name/${\n        country === 'UK' ? 'GB' : country\n      }`\n    )\n      .then(res => res.json())\n      .then(data => data[0] && setFlag(data[0].flag))\n  }, [country])\n\n  return (\n    <div className=\"card\">\n      <div className=\"title\">\n        <div>{index}</div>\n        <div className=\"flagHolder\">\n          <div className=\"flag\">\n            {flag !== '#' ? (\n              <img width=\"30\" height=\"25\" alt={country} src={flag} />\n            ) : null}\n          </div>\n          <div>{country}</div>\n        </div>\n      </div>\n      <div className=\"body\">\n        <ul>\n          <li>\n            <span>Active: </span>\n            <span>{active}</span>\n          </li>\n          <li>\n            <span>Cases: </span>\n            <span>{cases}</span>\n          </li>\n          <li>\n            <span>Critical: </span>\n            <span>{critical}</span>\n          </li>\n          <li>\n            <span>Deaths: </span>\n            <span>{deaths}</span>\n          </li>\n          <li>\n            <span>TodayCases:</span>\n            <span>{todayCases}</span>\n          </li>\n          <li>\n            <span>TodayDeaths:</span>\n            <span>{todayDeaths}</span>\n          </li>\n        </ul>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nconst capitalize = s => {\n  if (typeof s !== 'string') return ''\n  return s.charAt(0).toUpperCase() + s.slice(1)\n}\nexport default ({ onChangeSearch, search, options, sort, onChangeSort }) => {\n  return (\n    <div className=\"header\">\n      <div className=\"main-title\">\n        <div>Covid-19 Live Dashboard</div>\n        <div className=\"sub-title\">\n          by <a href=\"https://github.com/nudelx\">Nudelman Alex</a>\n        </div>\n        <div className=\"sub-title-2\">\n          DataSource:{' '}\n          <a href=\"https://www.worldometers.info\">www.worldometers.info</a> with{' '}\n          <a href=\"https://github.com/javieraviles/covidAPI\">API</a> by{' '}\n          <a href=\"https://github.com/javieraviles\">Javier Aviles</a>\n        </div>\n      </div>\n\n      <div className=\"tools\">\n        <div className=\"search\">\n          <label for=\"search\">Search</label>\n          <input\n            placeholder=\"...\"\n            id=\"search\"\n            name=\"search\"\n            onChange={e => {\n              e.preventDefault()\n              onChangeSearch(e.target.value)\n            }}\n            value={search}\n          />\n        </div>\n        <div className=\"sort\">\n          <label for=\"sort\">Sort</label>\n          <select id=\"sort\" onChange={e => onChangeSort(e.target.value)}>\n            {options.map(o => (\n              <option key={o} value={o}>\n                {capitalize(o)}\n              </option>\n            ))}\n          </select>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport Card from './card'\nimport useTimer from './useTimer'\nimport Header from './header'\n\nexport default () => {\n  const [cards, setCards] = useState([])\n  const [search, setSearch] = useState('')\n  const [sort, setSort] = useState('active')\n\n  const options = [\n    'active',\n    'cases',\n    'critical',\n    'deaths',\n    'todayCases',\n    'todayDeaths'\n  ]\n\n  const getData = () =>\n    fetch('https://coronavirus-19-api.herokuapp.com/countries/')\n      .then(res => res.json())\n      .then(res =>\n        setCards(\n          res.sort(function(a, b) {\n            return a.active > b.active\n          })\n        )\n      )\n  const timer = useTimer(14400000) // 4 hours\n\n  useEffect(() => {\n    getData()\n  }, [timer])\n\n  const cardFiltered = search.length\n    ? cards.filter(item => item.country.match(new RegExp(search, 'i')))\n    : cards\n\n  return (\n    <div>\n      <Header\n        onChangeSearch={setSearch}\n        search={search}\n        sort={sort}\n        onChangeSort={setSort}\n        options={options}\n      />\n      {cardFiltered\n        .sort(function(a, b) {\n          if (a[sort] > b[sort]) return -1\n          if (b[sort] > a[sort]) return 1\n          return 0\n        })\n        .map((c, index) => (\n          <Card key={c.country} {...c} index={index + 1} />\n        ))}\n    </div>\n  )\n}\n","import { useEffect, useState } from 'react'\nexport default delay => {\n  const [time, setTime] = useState(0)\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setTime(time + 1)\n    }, delay)\n    return () => clearTimeout(timer)\n  }, [delay, time])\n\n  return time\n}\n","import React from 'react'\nimport './App.css'\nimport CovidBoard from './covidBoard'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <CovidBoard />\n      </header>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n// import * as serviceWorker from './serviceWorker';\n\n// const ga = ` <script\n// async\n// src=\"https://www.googletagmanager.com/gtag/js?id=UA-131329334-2\"\n// ></script>\n// <script>\n// window.dataLayer = window.dataLayer || []\n// function gtag() {\n//   dataLayer.push(arguments)\n// }\n// gtag('js', new Date())\n\n// gtag('config', 'UA-131329334-2')\n// </script>`\n// const div = document.createElement('div')\n// div.innerHTML = ga\n// document.querySelector('html').appendChild(div)\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}